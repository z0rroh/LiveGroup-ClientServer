{"version":3,"sources":["../src/components/tree/treeNode.tsx"],"names":[],"mappings":"AAAA;;;;;GAKG;;;;AAEH,uCAAyC;AACzC,6BAA+B;AAE/B,8CAAgD;AAChD,4CAAgD;AAChD,iDAAgD;AAiEhD;IAA8B,oCAAmC;IAAjE;QAAA,qEA8EC;QArBW,sBAAgB,GAAG,UAAC,CAAoC;YAC5D,CAAC,CAAC,eAAe,EAAE,CAAC;YACd,IAAA,gBAAiD,EAA/C,0BAAU,EAAE,0BAAU,EAAE,sBAAQ,CAAgB;YACxD,kBAAU,CAAC,UAAU,GAAG,UAAU,GAAG,QAAQ,EAAE,KAAI,EAAE,CAAC,CAAC,CAAC;QAC5D,CAAC,CAAA;QAEO,iBAAW,GAAG,UAAC,CAAmC;YACtD,kBAAU,CAAC,KAAI,CAAC,KAAK,CAAC,OAAO,EAAE,KAAI,EAAE,CAAC,CAAC,CAAC;QAC5C,CAAC,CAAA;QAEO,sBAAgB,GAAG,UAAC,OAA8B;YACtD,kBAAU,CAAC,KAAI,CAAC,KAAK,CAAC,UAAU,EAAE,KAAI,EAAE,OAAO,CAAC,CAAC;QACrD,CAAC,CAAA;QAEO,uBAAiB,GAAG,UAAC,CAAmC;YAC5D,kBAAU,CAAC,KAAI,CAAC,KAAK,CAAC,aAAa,EAAE,KAAI,EAAE,CAAC,CAAC,CAAC;QAClD,CAAC,CAAA;QAEO,uBAAiB,GAAG,UAAC,CAAmC;YAC5D,kBAAU,CAAC,KAAI,CAAC,KAAK,CAAC,aAAa,EAAE,KAAI,EAAE,CAAC,CAAC,CAAC;QAClD,CAAC,CAAA;;IACL,CAAC;IA7EU,yBAAM,GAAb;QACU,IAAA,eAA2E,EAA1E,sBAAQ,EAAE,wBAAS,EAAE,sBAAQ,EAAE,0BAAU,EAAE,0BAAU,EAAE,gBAAK,CAAe;QAElF,IAAM,SAAS,GAAG,QAAQ,IAAI,IAAI,GAAG,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,QAAQ,CAAC;QACnF,IAAM,UAAU,GAAG,SAAS,GAAG,OAAO,CAAC,eAAe,GAAG,OAAO,CAAC,oBAAoB,CAAC;QACtF,IAAM,eAAe,GAAG,UAAU,GAAG,OAAO,CAAC,oBAAoB,GAAG,OAAO,CAAC,sBAAsB,CAAC;QACnG,IAAM,YAAY,GAAG,UAAU,CAAC,UAAU,EAAE,kBAAkB;YAC1D,GAAC,eAAe,IAAG,SAAS;gBAC9B,CAAC;QAEH,IAAM,OAAO,GAAG,UAAU,CAAC,OAAO,CAAC,SAAS;YACxC,GAAC,OAAO,CAAC,kBAAkB,IAAG,UAAU;YACxC,GAAC,OAAO,CAAC,kBAAkB,IAAG,UAAU;iBACzC,SAAS,CAAC,CAAC;QAEd,IAAM,cAAc,GAAG,UAAU,CAAC,OAAO,CAAC,iBAAiB,EAAE,0BAAwB,IAAI,CAAC,KAAK,CAAC,KAAO,CAAC,CAAC;QAEzG,MAAM,CAAE,CACJ,4BAAI,SAAS,EAAE,OAAO;YAClB,6BACI,SAAS,EAAE,cAAc,EACzB,OAAO,EAAE,IAAI,CAAC,WAAW,EACzB,aAAa,EAAE,IAAI,CAAC,iBAAiB,EACrC,aAAa,EAAE,IAAI,CAAC,iBAAiB,EACrC,GAAG,EAAE,IAAI,CAAC,gBAAgB;gBAE1B,8BAAM,SAAS,EAAE,YAAY,EAAE,OAAO,EAAE,SAAS,GAAG,IAAI,CAAC,gBAAgB,GAAG,IAAI,GAAG;gBAClF,IAAI,CAAC,eAAe,EAAE;gBACvB,8BAAM,SAAS,EAAE,OAAO,CAAC,eAAe,IAAG,KAAK,CAAQ;gBACvD,IAAI,CAAC,yBAAyB,EAAE,CAC/B;YACN,oBAAC,mBAAQ,IAAC,MAAM,EAAE,UAAU,IACvB,QAAQ,CACF,CACV,CACR,CAAC;;IACN,CAAC;IAEO,kCAAe,GAAvB;QACY,IAAA,8BAAQ,CAAgB;QAChC,EAAE,CAAC,CAAC,QAAQ,IAAI,IAAI,CAAC,CAAC,CAAC;YACnB,IAAM,WAAW,GAAG,UAAU,CAAC,OAAO,CAAC,cAAc,EAAE,kBAAkB,EAAE,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC;YACxG,MAAM,CAAC,8BAAM,SAAS,EAAE,WAAW,GAAG,CAAC;QAC3C,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,MAAM,CAAC,SAAS,CAAC;QACrB,CAAC;IACL,CAAC;IAEO,4CAAyB,GAAjC;QACI,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,IAAI,IAAI,CAAC,CAAC,CAAC;YACpC,MAAM,CAAC,8BAAM,SAAS,EAAE,OAAO,CAAC,yBAAyB,IAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAQ,CAAC;QAClG,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,MAAM,CAAC,SAAS,CAAC;QACrB,CAAC;IACL,CAAC;IAuBL,eAAC;AAAD,CA9EA,AA8EC,CA9E6B,KAAK,CAAC,SAAS,GA8E5C;AA9EY,4BAAQ","file":"components/tree/treeNode.js","sourcesContent":["/*\n * Copyright 2015 Palantir Technologies, Inc. All rights reserved.\n * Licensed under the BSD-3 License as modified (the “License”); you may obtain a copy\n * of the license at https://github.com/palantir/blueprint/blob/master/LICENSE\n * and https://github.com/palantir/blueprint/blob/master/PATENTS\n */\n\nimport * as classNames from \"classnames\";\nimport * as React from \"react\";\n\nimport * as Classes from \"../../common/classes\";\nimport { safeInvoke } from \"../../common/utils\";\nimport { Collapse } from \"../collapse/collapse\";\n\nexport interface ITreeNode {\n    /**\n     * Child tree nodes of this node.\n     */\n    childNodes?: ITreeNode[];\n\n    /**\n     * A space-delimited string of class names to apply to the node.\n     */\n    className?: string;\n\n    /**\n     * Whether the caret to expand/collapse a node should be shown.\n     * If not specified, this will be true if the node has children and false otherwise.\n     */\n    hasCaret?: boolean;\n\n    /**\n     * The name of a Blueprint icon to display next to the node's label.\n     */\n    iconName?: string;\n\n    /**\n     * A unique identifier for the node.\n     */\n    id: string | number;\n\n    /**\n     * Whether the children of this node are displayed.\n     * @default false\n     */\n    isExpanded?: boolean;\n\n    /**\n     * Whether this node is selected.\n     * @default false\n     */\n    isSelected?: boolean;\n\n    /**\n     * The main label for the node.\n     */\n    label: string | JSX.Element;\n\n    /**\n     * A secondary label/component that is displayed at the right side of the node.\n     */\n    secondaryLabel?: string | JSX.Element;\n}\n\nexport interface ITreeNodeProps extends ITreeNode {\n    children?: React.ReactNode;\n    contentRef?: (node: TreeNode, element: HTMLDivElement | null) => void;\n    depth: number;\n    key?: string | number;\n    onClick?: (node: TreeNode, e: React.MouseEvent<HTMLDivElement>) => void;\n    onCollapse?: (node: TreeNode, e: React.MouseEvent<HTMLSpanElement>) => void;\n    onContextMenu?: (node: TreeNode, e: React.MouseEvent<HTMLDivElement>) => void;\n    onDoubleClick?: (node: TreeNode, e: React.MouseEvent<HTMLDivElement>) => void;\n    onExpand?: (node: TreeNode, e: React.MouseEvent<HTMLSpanElement>) => void;\n    path: number[];\n}\n\nexport class TreeNode extends React.Component<ITreeNodeProps, {}> {\n    public render() {\n        const {children, className, hasCaret, isExpanded, isSelected, label} = this.props;\n\n        const showCaret = hasCaret == null ? React.Children.count(children) > 0 : hasCaret;\n        const caretClass = showCaret ? Classes.TREE_NODE_CARET : Classes.TREE_NODE_CARET_NONE;\n        const caretStateClass = isExpanded ? Classes.TREE_NODE_CARET_OPEN : Classes.TREE_NODE_CARET_CLOSED;\n        const caretClasses = classNames(caretClass, \"pt-icon-standard\", {\n            [caretStateClass]: showCaret,\n        });\n\n        const classes = classNames(Classes.TREE_NODE, {\n            [Classes.TREE_NODE_SELECTED]: isSelected,\n            [Classes.TREE_NODE_EXPANDED]: isExpanded,\n        }, className);\n\n        const contentClasses = classNames(Classes.TREE_NODE_CONTENT, `pt-tree-node-content-${this.props.depth}`);\n\n        return  (\n            <li className={classes}>\n                <div\n                    className={contentClasses}\n                    onClick={this.handleClick}\n                    onContextMenu={this.handleContextMenu}\n                    onDoubleClick={this.handleDoubleClick}\n                    ref={this.handleContentRef}\n                >\n                    <span className={caretClasses} onClick={showCaret ? this.handleCaretClick : null}/>\n                    {this.maybeRenderIcon()}\n                    <span className={Classes.TREE_NODE_LABEL}>{label}</span>\n                    {this.maybeRenderSecondaryLabel()}\n                </div>\n                <Collapse isOpen={isExpanded}>\n                    {children}\n                </Collapse>\n            </li>\n        );\n    }\n\n    private maybeRenderIcon() {\n        const { iconName } = this.props;\n        if (iconName != null) {\n            const iconClasses = classNames(Classes.TREE_NODE_ICON, \"pt-icon-standard\", Classes.iconClass(iconName));\n            return <span className={iconClasses}/>;\n        } else {\n            return undefined;\n        }\n    }\n\n    private maybeRenderSecondaryLabel() {\n        if (this.props.secondaryLabel != null) {\n            return <span className={Classes.TREE_NODE_SECONDARY_LABEL}>{this.props.secondaryLabel}</span>;\n        } else {\n            return undefined;\n        }\n    }\n\n    private handleCaretClick = (e: React.MouseEvent<HTMLSpanElement>) => {\n        e.stopPropagation();\n        const { isExpanded, onCollapse, onExpand } = this.props;\n        safeInvoke(isExpanded ? onCollapse : onExpand, this, e);\n    }\n\n    private handleClick = (e: React.MouseEvent<HTMLDivElement>) => {\n        safeInvoke(this.props.onClick, this, e);\n    }\n\n    private handleContentRef = (element: HTMLDivElement | null) => {\n        safeInvoke(this.props.contentRef, this, element);\n    }\n\n    private handleContextMenu = (e: React.MouseEvent<HTMLDivElement>) => {\n        safeInvoke(this.props.onContextMenu, this, e);\n    }\n\n    private handleDoubleClick = (e: React.MouseEvent<HTMLDivElement>) => {\n        safeInvoke(this.props.onDoubleClick, this, e);\n    }\n}\n"]}